@using SistemaDeCadenasAlimenticias.Data.Entidades

@model List<SistemaDeCadenasAlimenticias.Data.Entidades.Sucursal>


@{
}

<h1>Listado de Sucursales</h1>

<div class="d-flex flex-row mb-3 mt-4">
    <div class="dropdown">
    <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Filtrar por Cadena
    </button>
    <ul class="dropdown-menu">
        @foreach (var micadena in ViewBag.Cadenas)
        {
            <li><a class="dropdown-item" href="/Sucursal/Filtrar/@micadena.Id">@micadena.RazonSocial</a></li>
        }
    </ul>
    </div>
    <div class="ms-4">
        <a class="btn btn-secondary" href="/Sucursal/ListaSucursales">Quitar filtro</a>
    </div>

</div>

@if(ViewBag.SucursalesFiltradas!=null){
    <table class="table">
        <thead>
            <tr>
                <th scope="col">IdSucursal</th>
                <th scope="col">Cadena</th>
                <th scope="col">Dirección</th>
                <th scope="col">Ciudad</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var sucursalf in ViewBag.SucursalesFiltradas)
            {
                <tr>
                    <th>@sucursalf.Id</th>
                    <td>@sucursalf.IdCadena</td>
                    <td>@sucursalf.Direccion</td>
                    <td>@sucursalf.Ciudad</td>
                </tr>
            }

        </tbody>
    </table>

}
else{
    <table class="table">
        <thead>
            <tr>
                <th scope="col">IdSucursal</th>
                <th scope="col">Cadena</th>
                <th scope="col">Dirección</th>
                <th scope="col">Ciudad</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var sucursal in Model)
            {
                <tr>
                    <th>@sucursal.Id</th>
                    <td>@sucursal.IdCadena</td>
                    <td>@sucursal.Direccion</td>
                    <td>@sucursal.Ciudad</td>
                </tr>
            }

        </tbody>
    </table>

}



